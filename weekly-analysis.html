<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weekly Health Analysis</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <header>
        <h1>Weekly Health Analysis</h1>
        <nav>
            <ul>
                <li><a href="index.html">Dashboard</a></li>
                <li><a href="weekly-analysis.html">Weekly Analysis</a></li>
            </ul>
        </nav>
    </header>
    
    <main>
        <section id="health-summary">
            <h2>Health Summary</h2>
            <div id="charts-container">
                <div class="chart">
                    <h3>Temperature (째C)</h3>
                    <canvas id="temperature-bar-chart"></canvas>
                </div>
                <div class="chart">
                    <h3>SpO2 (%)</h3>
                    <canvas id="spo2-bar-chart"></canvas>
                </div>
                <div class="chart">
                    <h3>Pulse (bpm)</h3>
                    <canvas id="pulse-bar-chart"></canvas>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 PapaTron</p>
    </footer>

    <script>
        // Data for the charts
        const labels = ["Day 1", "Day 2", "Day 3", "Day 4", "Day 5", "Day 6", "Day 7"];

        // Temperature Data
        const tempData = {
            labels: labels,
            datasets: [
                {
                    label: "Highest Temperature (째C)",
                    data: [37, 37.2, 36.9, 37.1, 37.3, 37, 36.8],
                    backgroundColor: "rgba(255, 99, 132, 0.8)",
                },
                {
                    label: "Lowest Temperature (째C)",
                    data: [36.8, 36.7, 36.5, 36.6, 36.8, 36.5, 36.4],
                    backgroundColor: "rgba(54, 162, 235, 0.8)",
                },
            ],
        };

        // SpO2 Data
        const spo2Data = {
            labels: labels,
            datasets: [
                // {
                //     label: "Highest SpO2 (%)",
                //     data: [98, 99, 98, 97, 99, 98, 97],
                //     backgroundColor: "rgba(75, 192, 192, 0.8)",
                // },
                {
                    label: "Lowest Temperature (째C)",
                    data: [36.8, 36.7, 36.5, 36.6, 36.8, 36.5, 36.4],
                    backgroundColor: "rgba(54, 162, 235, 0.8)",
                },
                {
                    label: "Lowest SpO2 (%)",
                    data: [96, 95, 96, 94, 95, 96, 94],
                    backgroundColor: "rgba(153, 102, 255, 0.8)",
                },
                {
                    label: "Highest Pulse (bpm)",
                    data: [85, 88, 87, 86, 89, 87, 88],
                    backgroundColor: "rgba(255, 206, 86, 0.8)",
                },
            ],
        };

        // Pulse Data
        const pulseData = {
            labels: labels,
            datasets: [
                {
                    label: "Highest Pulse (bpm)",
                    data: [85, 88, 87, 86, 89, 87, 88],
                    backgroundColor: "rgba(255, 206, 86, 0.8)",
                },
                {
                    label: "Lowest Pulse (bpm)",
                    data: [72, 74, 73, 71, 72, 74, 73],
                    backgroundColor: "rgba(201, 203, 207, 0.8)",
                },
            ],
        };

        // Chart configuration
        const config = (ctx, data) => ({
            type: "bar",
            data: data,
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: "top",
                    },
                },
                scales: {
                    x: {
                        stacked: false,
                    },
                    y: {
                        beginAtZero: true,
                    },
                },
            },
        });

        // Render Charts
        window.addEventListener("DOMContentLoaded", () => {
            const tempCtx = document.getElementById("temperature-bar-chart").getContext("2d");
            new Chart(tempCtx, config(tempCtx, tempData));

            const spo2Ctx = document.getElementById("spo2-bar-chart").getContext("2d");
            new Chart(spo2Ctx, config(spo2Ctx, spo2Data));

            const pulseCtx = document.getElementById("pulse-bar-chart").getContext("2d");
            new Chart(pulseCtx, config(pulseCtx, pulseData));
        });
    </script>
</body>
</html>